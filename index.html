<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>RADIEC</title>

    <!-- Google Material Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!-- Accordion CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/accordion-js@2.7.3/dist/accordion.min.css"
    />
    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="css/tailwind.css" />
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <header class="header h-full">
      <div class="bg-mask flex flex-col">
        <!-- Navbar -->
        <nav class="p-5 md:p-10 flex justify-between">
          <!-- Logo -->
          <div class="logo flex items-center text-white">
            <!-- Image -->
            <svg
              aria-hidden="true"
              focusable="false"
              data-prefix="fas"
              data-icon="broadcast-tower"
              class="svg-inline--fa fa-broadcast-tower fa-w-20"
              role="img"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 512"
              width="1.5rem"
            >
              <path
                fill="currentColor"
                d="M150.94 192h33.73c11.01 0 18.61-10.83 14.86-21.18-4.93-13.58-7.55-27.98-7.55-42.82s2.62-29.24 7.55-42.82C203.29 74.83 195.68 64 184.67 64h-33.73c-7.01 0-13.46 4.49-15.41 11.23C130.64 92.21 128 109.88 128 128c0 18.12 2.64 35.79 7.54 52.76 1.94 6.74 8.39 11.24 15.4 11.24zM89.92 23.34C95.56 12.72 87.97 0 75.96 0H40.63c-6.27 0-12.14 3.59-14.74 9.31C9.4 45.54 0 85.65 0 128c0 24.75 3.12 68.33 26.69 118.86 2.62 5.63 8.42 9.14 14.61 9.14h34.84c12.02 0 19.61-12.74 13.95-23.37-49.78-93.32-16.71-178.15-.17-209.29zM614.06 9.29C611.46 3.58 605.6 0 599.33 0h-35.42c-11.98 0-19.66 12.66-14.02 23.25 18.27 34.29 48.42 119.42.28 209.23-5.72 10.68 1.8 23.52 13.91 23.52h35.23c6.27 0 12.13-3.58 14.73-9.29C630.57 210.48 640 170.36 640 128s-9.42-82.48-25.94-118.71zM489.06 64h-33.73c-11.01 0-18.61 10.83-14.86 21.18 4.93 13.58 7.55 27.98 7.55 42.82s-2.62 29.24-7.55 42.82c-3.76 10.35 3.85 21.18 14.86 21.18h33.73c7.02 0 13.46-4.49 15.41-11.24 4.9-16.97 7.53-34.64 7.53-52.76 0-18.12-2.64-35.79-7.54-52.76-1.94-6.75-8.39-11.24-15.4-11.24zm-116.3 100.12c7.05-10.29 11.2-22.71 11.2-36.12 0-35.35-28.63-64-63.96-64-35.32 0-63.96 28.65-63.96 64 0 13.41 4.15 25.83 11.2 36.12l-130.5 313.41c-3.4 8.15.46 17.52 8.61 20.92l29.51 12.31c8.15 3.4 17.52-.46 20.91-8.61L244.96 384h150.07l49.2 118.15c3.4 8.16 12.76 12.01 20.91 8.61l29.51-12.31c8.15-3.4 12-12.77 8.61-20.92l-130.5-313.41zM271.62 320L320 203.81 368.38 320h-96.76z"
              ></path>
            </svg>
            <h1 class="font-medium ml-1 text-2xl">
              RADIEC <span class="text-base font-light">BETA</span>
            </h1>
          </div>
          <!-- Links -->
          <div class="flex justify-center items-center">
            <p
              class="button-program flex items-center justify-center text-white cursor-pointer"
            >
              <span
                ><i
                  class="mr-1 material-icons text-3xl cursor-pointer md:text-2xl"
                  >list</i
                ></span
              >
              <span class="hidden md:inline">Programaci√≥n</span>
            </p>
          </div>
        </nav>

        <!-- Header -->
        <div class="flex-1 flex flex-col justify-center mx-6 md:mx-12 ">
          <div class="text-white ">
            <p class="text-4xl md:text-5xl leading-tight">Estas escuchando:</p>

            <p
              class="text-5xl md:text-6xl text-yellow-2000 leading-tight underline"
            >
              <span
                id="Song-display"
                class="cc_streaminfo"
                data-type="song"
                data-username="rdiec"
                data-mount="/stream"
                style="display: inline;"
                >Cargando</span
              >
            </p>
            <div id="Latest-songs" class="mt-8 ml-2"></div>
          </div>
        </div>
        <!-- Reproductor -->
        <div
          class="h-20 mx-5 md:mx-12 my-4 md:my-8 flex items-center justify-between"
        >
          <!-- Button Play -->
          <div class="flex justify-center items-center">
            <i
              id="btnPlay"
              class="text-7xl text-yellow-2000 material-icons cursor-pointer hidde"
              >play_arrow</i
            >
            <div id="LoaderPlayerC" class="sbl-circ-path mr-3"></div>
            <span id="playerCounterTwo" class="mr-2 text-white md:hidden"
              >00:00</span
            >
          </div>
          <!-- Narra de progreso -->
          <div class="flex-1 flex items-center hidden md:flex">
            <span class="mr-2 text-white hidden md:inline">00:00</span>

            <span
              class="w-full relative flex items-center h-1 bg-gray-400 rounded-full"
            >
              <span
                class="absolute right-0 h-4 w-4 rounded-full bg-gray-300"
              ></span>
            </span>

            <span id="playerCounter" class="ml-2 text-white">-00:00</span>
          </div>
          <!-- Controls -->
          <div class="flex items-center">
            <a
              href="https://www.dropbox.com/s/t14u4qi52j10y65/RadIEC-Anyw.m3u?dl=1"
            >
              <i
                id="btnPlay"
                class="mx-6 text-white text-2xl material-icons cursor-pointer"
                >cloud_download</i
              >
            </a>
            <i
              class="text-3xl text-white material-icons cursor-pointer hidden md:block"
              id="iconVolume"
              >volume_up</i
            >
            <input
              class="hidden md:block"
              type="range"
              value="100"
              name="volume"
              id="btnVolume"
            />

            <i
              id="btnPlay"
              class="ml-0 md:ml-4 text-white mr-1 text-2xl material-icons"
              >storage</i
            >
            <span id="serverName" class="text-white mr-8">Buscando</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Howler JS -->
    <script src="./js/howler.js"></script>
    <!-- Accordion JS -->
    <script src="https://unpkg.com/accordion-js@2.7.3/dist/accordion.min.js"></script>
    <!-- JQuery And Scripts Radio-Internet -->
    <script
      type="text/javascript"
      src="https://control.internet-radio.com:2199/system/jquery.min.js"
    ></script>
    <script
      language="javascript"
      type="text/javascript"
      src="https://control.internet-radio.com:2199/system/streaminfo.js"
    ></script>
    <!-- Scripts -->
    <script src="./js/scripts.js"></script>

    <script>
      let songs = [];
      let container = $("Latest-songs");

      setInterval(() => {
        let current_value = $("Song-display").innerText;

        if (
          !!current_value != false &&
          current_value.toLowerCase() != "cargando"
        ) {
          validate_songname(current_value);
        }
      }, 1000);

      let render_Element = name => {
        let div = document.createElement("p");
        div.setAttribute(
          "class",
          "text-4xl md:text-4xl text-yellow-2000 leading-tight"
        );
        div.innerText = name;

        container.append(div);
        container.insertBefore(div, container.firstChild);
      };

      let validate_songname = song => {
        let first_song = songs[0] || "|";

        if (song != first_song) {
          songs.unshift(song);
          render_Element(song);
        }

        if (songs.length > 3) {
          songs.pop();
          container.removeChild(container.lastChild);
        }
      };
    </script>
  </body>
</html>
